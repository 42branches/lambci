{
  "name": "lambci",
  "version": "0.7.0",
  "description": "A continuous integration system built on AWS Lambda",
  "repository": "lambci/lambci",
  "author": "Michael Hart <michael@soothbooth.com>",
  "license": "MIT",
  "main": "index.js",
  "scripts": {
    "test": "mocha",
    "integration": "node test/integration.js",
    "v": "node -p 'require(\"./package.json\").version'",
    "pkg": "rm -f lambda.zip && zip -qyr lambda.zip . -x@.lambdaignore",
    "deploy": "npm run pkg && aws lambda update-function-code --function-name lambci-build --zip-file fileb://lambda.zip",
    "publish": "npm run put-pkg && npm run copy-pkg && npm run put-version",
    "put-pkg": "npm run pkg && aws s3api put-object --bucket lambci --key fn/lambci-build-$(npm run -s v).zip --body lambda.zip",
    "copy-pkg": "aws s3api copy-object --copy-source lambci/fn/lambci-build-$(npm run -s v).zip --bucket lambci --key fn/lambci-build-latest.zip",
    "put-version": "npm run -s v > /tmp/lambci.txt && aws s3api put-object --bucket lambci --key fn/latest.txt --body /tmp/lambci.txt --acl public-read",
    "update-stack": "aws cloudformation update-stack --stack-name lambci --template-body file://lambci.template --capabilities CAPABILITY_IAM --parameters ParameterKey=Version,ParameterValue=$(npm run -s v) ParameterKey=GithubToken,UsePreviousValue=True ParameterKey=Repositories,UsePreviousValue=True ParameterKey=SlackToken,UsePreviousValue=True ParameterKey=SlackChannel,UsePreviousValue=True",
    "describe-stack": "aws cloudformation describe-stacks --stack-name lambci --query 'Stacks[0].StackStatus'"
  },
  "dependencies": {
    "ansi_up": "^1.3.0",
    "async": "^1.5.2",
    "aws-sdk": "^2.3.19",
    "nave": "^1.0.1"
  },
  "devDependencies": {
    "chai": "^3.5.0",
    "docker-lambda": "^0.9.1",
    "mocha": "^2.5.3"
  },
  "eslintConfig": {
    "extends": "eslint:recommended",
    "env": {
      "node": true,
      "es6": true,
      "mocha": true
    },
    "rules": {
      "no-console": 0,
      "no-mixed-requires": 0,
      "no-underscore-dangle": 0,
      "no-shadow": 0,
      "no-use-before-define": [
        2,
        "nofunc"
      ],
      "camelcase": [
        2,
        {
          "properties": "never"
        }
      ],
      "curly": 0,
      "eqeqeq": 0,
      "new-parens": 0,
      "quotes": [
        2,
        "single",
        "avoid-escape"
      ],
      "semi": [
        2,
        "never"
      ],
      "strict": 0,
      "no-empty-character-class": 2,
      "no-extra-parens": [
        2,
        "functions"
      ],
      "no-floating-decimal": 2,
      "no-lonely-if": 2,
      "no-self-compare": 2,
      "no-throw-literal": 2,
      "no-unused-vars": 2,
      "array-bracket-spacing": [
        2,
        "never"
      ],
      "brace-style": [
        2,
        "1tbs",
        {
          "allowSingleLine": true
        }
      ],
      "comma-dangle": [
        2,
        "always-multiline"
      ],
      "comma-style": [
        2,
        "last"
      ],
      "consistent-this": [
        2,
        "self"
      ],
      "object-curly-spacing": [
        2,
        "never"
      ],
      "operator-assignment": [
        2,
        "always"
      ],
      "operator-linebreak": [
        2,
        "after"
      ],
      "keyword-spacing": 2,
      "space-before-blocks": [
        2,
        "always"
      ],
      "space-before-function-paren": [
        2,
        "never"
      ],
      "space-in-parens": [
        2,
        "never"
      ],
      "spaced-comment": [
        2,
        "always"
      ]
    }
  }
}
